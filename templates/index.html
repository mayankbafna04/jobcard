<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Card Management</title>
    
    <!-- External Stylesheets -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" />
</head>

<body class="min-h-screen bg-gray-100">
    <div class="card">
        <!-- Flash Messages Section -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <div class="flash-message flash-{{ category }}">
                    <span>{{ message }}</span>
                    <span class="close" onclick="this.parentElement.classList.add('hide')">&times;</span>
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Main Form Section -->
        <h2 class="text-xl font-semibold mb-4">Create New Job Card</h2>
        
        <form method="POST" class="form-container">
            <!-- Customer Information Section -->
            <div class="grid grid-cols-3 gap-4">
                <div class="form-group">
                    <label for="date" class="form-label">Date</label>
                    <input type="text" id="date" name="date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="customerName" class="form-label">Customer Name</label>
                    <input type="text" id="customerName" name="customerName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="phoneNo" class="form-label">Phone No</label>
                    <input type="text" id="phoneNo" name="phoneNo" class="form-control" required>
                </div>
            </div>

            <!-- Vehicle Information Section -->
            <div class="grid grid-cols-3 gap-4 mt-4">
                <div class="form-group">
                    <label for="modelName" class="form-label">Model Name</label>
                    <input type="text" id="modelName" name="modelName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="vehicleNo" class="form-label">Vehicle No</label>
                    <input type="text" id="vehicleNo" name="vehicleNo" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="jobCardNumber" class="form-label">Job Card Number</label>
                    <input type="text" id="jobCardNumber" name="jobCardNumber" class="form-control" required>
                </div>
            </div>

            <!-- Description Section -->
            <div class="form-group mt-4">
                <label for="description" class="form-label">Description</label>
                <textarea id="description" name="description" class="form-control" required></textarea>
            </div>

            <!-- Charger Information Section -->
            <div class="form-group mt-4">
                <label for="chargerPresent" class="form-label">Charger Present</label>
                <select id="chargerPresent" name="chargerPresent" class="form-control" required>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
            </div>

            <!-- Payment Information Section -->
            <div class="grid grid-cols-3 gap-4 mt-4">
                <div class="form-group">
                    <label for="mechanicName" class="form-label">Mechanic Name</label>
                    <input type="text" id="mechanicName" name="mechanicName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="amount" class="form-label">Amount (â‚¹)</label>
                    <input type="number" id="amount" name="amount" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="paymentMode" class="form-label">Payment Mode</label>
                    <select id="paymentMode" name="paymentMode" class="form-control" required>
                        <option value="cash">Cash</option>
                        <option value="upi">UPI</option>
                        <option value="card">Card</option>
                    </select>
                </div>
            </div>

            <!-- Parts Used Section -->
            <div class="form-group mt-4">
                <label for="partsUsed" class="form-label">Parts Used (Select Multiple):</label>
                <select id="partsUsed" name="partsUsed" class="form-control" multiple required>
                    <option value="general_service">General Service</option>
                    <option value="throttle">Throttle</option>
                    <option value="ampere_throttle">Ampere throttle</option>
                    <option value="okaya_throttle">Okaya throttle</option>
                    <option value="clamp">Clamp</option>
                    <option value="front_wheel_bearing">Front Wheel bearing</option>
                    <option value="rear_wheel_bearing">Rear Wheel bearing</option>
                    <option value="motor_bearing">Motor bearing</option>
                    <option value="brake_lever_rh">Brake Lever RH</option>
                    <option value="brake_lever_lh">Brake Lever LH</option>
                    <option value="brake_shoe_front">Brake Shoe Front</option>
                    <option value="brake_shoe_rear">Brake Shoe Rear</option>
                    <option value="brake_cable_front">Brake Cable Front</option>
                    <option value="brake_cable_rear">Brake Cable Rear</option>
                    <option value="brake_disc_pad_rear">Brake Disc pad Rear</option>
                    <option value="brake_disc_pad_front">Brake Disc pad Front</option>
                    <option value="front_wheel_brake_hub">Front Wheel Brake Hub</option>
                    <option value="battery_charging_socket">Battery charging socket</option>
                    <option value="charging_socket">Charging socket</option>
                    <option value="mudguard_inner_rear">Mudguard inner rear</option>
                    <option value="switch_hi_low">Switch Hi-Low</option>
                    <option value="switch_on_off">Switch On-Off</option>
                    <option value="switch_horn">Switch horn</option>
                    <option value="switch_indicator">Switch indicator</option>
                    <option value="switch_reverse">Switch reverse</option>
                    <option value="lock_set_reo">Lock Set Reo</option>
                    <option value="lock_set_zeal">Lock Set Zeal</option>
                    <option value="lock_set_magnus">Lock Set Magnus</option>
                    <option value="lock_set_okaya">Lock Set Okaya</option>
                    <option value="mirror_rear_lh">Mirror Rear LH</option>
                    <option value="mirror_rear_rh">Mirror Rear RH</option>
                    <option value="mirror_set">Mirror set</option>
                    <option value="ladies_footrest">Ladies Footrest</option>
                    <option value="junction_box">Junction Box</option>
                    <option value="cone_set">Cone set</option>
                    <option value="tyre">Tyre</option>
                    <option value="head_light_assembly">Head Light Assembly</option>
                    <option value="indicator_assembly">Indicator Assembly</option>
                    <option value="tail_light_assembly">Tail light Assembly</option>
                    <option value="side_stand">Side Stand</option>
                    <option value="side_stand_spring">Side Stand spring</option>
                    <option value="center_stand">Center Stand</option>
                    <option value="foot_board">Foot board</option>
                    <option value="bag_hook">Bag Hook</option>
                    <option value="fork_oil_seal">Fork oil seal</option>
                    <option value="mcb_switch">MCB switch</option>
                    

                </select>
            </div>

            <!-- Submit Button -->
            <div class="mt-6">
                <button type="submit" class="btn btn-primary w-full">Create Job Card</button>
            </div>
        </form>
    </div>

    <!-- External Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>

    <!-- Custom Scripts -->
    <script>
        $(document).ready(function () {
            // Initialize Select2 for parts selection
            $('#partsUsed').select2({
                placeholder: 'Select parts used',
                allowClear: true
            });

            // Initialize Datepicker
            $("#date").datepicker({
                dateFormat: 'dd-mm-yy',
                changeMonth: true,
                changeYear: true,
                showButtonPanel: true
            });

            // Auto-hide flash messages after 2 seconds
            setTimeout(function () {
                $('.flash-message').fadeOut('slow');
            }, 2000); // 2000ms = 2 seconds
        });
    </script>
</body>
</html>
